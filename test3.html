<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>🎤 التعرف على الصوت مباشرة</title>
  <style>
    body { font-family: Arial; padding: 20px; text-align: center; }
    #result { margin-top: 20px; font-size: 1.2em; background: #f5f5f5; padding: 10px; border-radius: 10px; }
    button { padding: 10px 20px; font-size: 1em; }
  </style>
</head>
<body>
  <h2>🎙️ اضغط للبدء بالتحدث</h2>
  <button onclick="startRecognition()">🎤 بدء التحدث</button>
  <div id="result">⏳ لم يتم البدء بعد...</div>

  <script>
    function startRecognition() {
      const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
      recognition.lang = "ar-AE"; // أو "en-US" للإنجليزية
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;

      recognition.start();

      document.getElementById("result").innerText = "🎧 جاري الاستماع...";

      recognition.onresult = function(event) {
        const transcript = event.results[0][0].transcript;
        document.getElementById("result").innerText = "✅ تم التعرف: " + transcript;
      };

      recognition.onerror = function(event) {
        document.getElementById("result").innerText = "❌ حدث خطأ: " + event.error;
      };
    }
  </script>
</body>
</html>
